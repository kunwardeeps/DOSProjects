<html>
	<head>
	</head>

	<body>
		<div class="container">
			<div class="row">
				<div class="col-lg-8 col-lg-offset-2">
					<h1 align ="center">Welcome to BitCoin Simulator</h1>
				</div>
			</div>
		</div>
		<form id="transact-form">
			<div class="form-group">
				<label for="publishKeysSelect">Select Public Keys</label>
				<select class="form-control" id="publishKeysSelect" value='a'></select>
			</div>
			<div class="form-group">
				<label for="enterAmount">Enter Transaction Amount</label>
				<input type="text" class="form-control" id="enterAmount" placeholder="50" value="50">
			</div>
			<div class="form-group">
				<button type="button" id="sign-btn">Sign</button> 					
			</div>
			<div class="form-group">
				<input class="form-control" type="text" id="status" placeholder="Status" readonly>
			</div>
			<div class="form-group">
				<button type="button" id="publish-btn">Publish</button>
			</div>
		</form>
		<script>

			$(document).ready(function(){
				$.ajax({
					type: 'get',
					url: 'http://localhost:4000/dropDown/',
					success: function(data){
						helpers.buildDropdown(
						data,
						$('#publishKeysSelect'),
						'Select an option'
					);}

				});
			});

			var helpers={

					buildDropdown: function(result, dropdown, emptyMessage)
					{
						dropdown.html('');
						dropdown.append('<option value="">' + emptyMessage + '</option>');
						if(result != ''){
							$.each(result, function(k, v) {
								dropdown.append('<option value="' + v + '">' + v + '</option>');
							});
						}
					}
				}

			$("#sign-btn").click(function(){
				var pubKey = document.getElementById("publishKeysSelect").value.length > 0 ?  document.getElementById("publishKeysSelect").value : 'a';
				var txnAmt = document.getElementById("enterAmount").value;
				$("#status").val("Pending");
				console.log("pubKey: ", pubKey, txnAmt)

				/*$.ajax({
				url: 'http://localhost:4000/sign?pubKey='+pubKey+'txnAmt='+txnAmt,
				type: 'get',
					success: function(response){
						console.log(response);
					}
				});
				*/
			});

			$("#publish-btn").click(function(){
				alert("Published");
			});
		</script>

	</body>
</html>